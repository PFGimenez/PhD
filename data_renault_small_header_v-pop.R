library(ggplot2)

#--------------------------------------------------------------------------------------------
#Parametres globaux
dataset_name = "renault_small_header"
algo_name = "v-pop"
taille_img_x = 1024/2
taille_img_y = 720/2
#fin parametres globaux
#--------------------------------------------------------------------------------------------

#--------------------------------------------------------------------------------------------
#data

oracle = c(0.68502658003544,0.7502584170112226,0.7979548139397519,0.8242395156526875,0.8485307147076196,0.8646264028352038,0.8746308328411104,0.8875886001181335,0.8910956881275842,0.8964855286473715,0.9063053750738335,0.91313496751329,0.912322799763733,0.9178972238629651,0.9199276432368576,0.9201122268163024,0.926055818074424,0.9288245717660957,0.9296736562315416,0.9353957471943296,0.9353588304784406,0.9369462492616657,0.940711754282339,0.9426683402244537,0.9481320141760189,0.9475782634376846,0.9487595983461311,0.9501624335499114,0.9549985233313645,0.9559583579444773,0.9571766095688128,0.9594654459539279,0.9613851151801536,0.9631571175428234,0.9637847017129356,0.9664796219728293,0.966738038984052,0.9675871234494979,0.9679562906083875,0.9702820437093916,0.9718694624926166,0.9729031305375074,0.9752658003544005,0.9743428824571766,0.9768532191376255,0.978920555227407,0.9788098050797401,0.9800649734199646)
courbe1 = c(0.6563792085056114,0.7331659775546367,0.7830035440047254,0.8160809214412286,0.8404459539279385,0.8577968103957472,0.8686134081512109,0.875849084465446,0.8849305965741288,0.8914648552864737,0.8955995274660367,0.9011739515652688,0.9044226225634967,0.9072652096869462,0.9088157117542823,0.9107722976963969,0.9135779681039575,0.9173803898405198,0.918820141760189,0.923693148257531,0.9219949793266391,0.9268310691080921,0.930190490253987,0.927790903721205,0.9305965741287655,0.9303012404016539,0.9348050797401063,0.9357649143532192,0.9384967513290018,0.9380537507383343,0.9374261665682221,0.9419669226225635,0.9418192557590077,0.9427790903721205,0.9432959243945659,0.9438865918487891,0.9457693443591259,0.9466553455404607,0.9487965150620201,0.9499040165386887,0.9484642646190194,0.9510853514471352,0.9507531010041347,0.9492395156526875,0.9530419373892498,0.9518975191966923,0.9546662728883638,0.9532634376845835)
courbe1_2 = c(0.6625159956688651,0.7313711979525543,0.7824589034353775,0.8157298946746727,0.8401417462348656,0.851904715031007,0.8669160350428192,0.8732650851461758,0.8826163992518948,0.8909833645043803,0.8969878925091053,0.9020080716605965,0.9073235554680579,0.9071266856974112,0.9070774682547494,0.9109164287823605,0.9150506939659415,0.9156413032778817,0.9201200905600945,0.9208583522000197,0.9206122649867113,0.9224825278078551,0.9266167929914362,0.9269120976474062,0.9325228861108377,0.9294221872231518,0.9309971453883257,0.9320799291268825,0.9325721035534994,0.9346392361452899,0.937543065262329,0.9397578501821046,0.941529678117925,0.942612461856482,0.9384781966729009,0.9405453292646914,0.9435475932670538,0.943990550251009,0.943990550251009,0.9452702037602126,0.9468451619253864,0.9466975095974013,0.9487646421891919,0.9477310758932966,0.94782951077862,0.9485185549758834,0.949355251501132,0.9511270794369524)
courbe1_4 = c(0.684989875126561,0.7371329733378332,0.778518393520081,0.8137445156935539,0.8364832939588255,0.8515018562267972,0.8658454269321634,0.87900776240297,0.8856311171110361,0.8888795140060749,0.894996625042187,0.900059061761728,0.9038558893013837,0.9073574080323996,0.9082011474856564,0.911787040161998,0.913390145123186,0.9166807289908876,0.916849476881539,0.9201822477219035,0.9202666216672292,0.9225869051636855,0.9244853189335134,0.9272274721565981,0.9286618292271347,0.9273962200472494,0.92963212959838,0.9305602429969625,0.9313196085048937,0.9310242996962538,0.9364664191697604,0.9354117448531893,0.9325430307121161,0.9373945325683429,0.935242996962538,0.9389132635842052,0.938702328720891,0.938702328720891,0.9393773202834964,0.9424991562605467,0.9396304421194736,0.9408538643266959,0.9430475869051637,0.9432585217684779,0.9439335133310833,0.941106986162673,0.9439757003037462,0.9415288558893014)
courbe1_8 = c(0.6543686262156948,0.7311887230775288,0.7809190061818325,0.8125369138087176,0.8355317557191795,0.8544316257825727,0.8650628026932314,0.8769933456707485,0.8822301846674804,0.8864039059731464,0.8940032287278025,0.9001063117691066,0.901090680001575,0.8997913139347167,0.9022325471512384,0.9056187738709296,0.9098318699058944,0.9096743709886994,0.9132968460841832,0.9153049572784188,0.9152655825491199,0.9177068157656416,0.9211324172146317,0.9221167854471001,0.9203055478993581,0.9234555262432571,0.9249911406859078,0.9250305154152065,0.9297161082017561,0.9241248966413356,0.9290073630743788,0.9280623695712092,0.9316454699373942,0.9310548489979131,0.9279836201126117,0.9299917313068473,0.9323148403354727,0.934795448281293,0.9318029688545891,0.9324329645233689,0.9318817183131866,0.9315667204787967,0.933614206402331,0.9312123479151081,0.9340079536953183,0.9356223175965666,0.9346379493640982,0.9369216836634248)
courbe1_16 = c(0.6885002286236854,0.7491998171010517,0.7878753238835543,0.8204541990550221,0.8391632373113854,0.8555479347660417,0.8654549611339735,0.874409388812681,0.8834781283340954,0.8870598994055784,0.8931946349641823,0.8954808718183204,0.900701112635269,0.9022252705380277,0.9028730376467002,0.9034064929126657,0.9067596402987349,0.9092363968907179,0.9095031245237006,0.9129324798049078,0.9093888126809937,0.9109510745313214,0.9152949245541838,0.9145709495503734,0.9183813443072703,0.9165142508763908,0.9144947416552355,0.9189529035208047,0.9172763298277702,0.9160570035055632,0.919943606157598,0.9194482548392013,0.9220774272214601,0.9192577351013566,0.9217725956409084,0.9208581008992531,0.92577351013565,0.9231062338058222,0.9221917390641671,0.9229157140679775,0.9214296601127877,0.9239445206523396,0.9245160798658741,0.9238683127572016,0.9241731443377534,0.9240588324950465,0.9256210943453742,0.9239064167047706)
courbe1_32= c(0.6487793902576218,0.733753328083399,0.786777665279184,0.8193647579405258,0.8351520605992425,0.8519143510706116,0.8659766752915589,0.8752390595117561,0.8790265121685978,0.8853264334195823,0.8906888663891701,0.8941388232647092,0.8946263171710354,0.8954888063899201,0.8959388007649904,0.901113736078299,0.9044136948288146,0.9019387257659279,0.9026512168597892,0.9058761765477932,0.9023887201409982,0.9047886901413732,0.9061011737353283,0.9026887163910451,0.9050511868601643,0.9089886376420295,0.9068886638917013,0.9100761240484494,0.9084261446731916,0.9071511606104924,0.9095511306108673,0.9078636517043537,0.9095511306108673,0.9104886188922638,0.91097611279859,0.9099261259234259,0.9092136348295646,0.9106386170172873,0.9055011812352346,0.9124385945175685,0.9121385982675216,0.9093261334233322,0.9094386320170997,0.9079011512356095,0.9093636329545881,0.9092136348295646,0.9101511231109611,0.908838639517006)
courbe1_64 = c(0.6846980914468545,0.7422151121693515,0.7832136612225157,0.8190408869377581,0.8395773652293612,0.8513709587410246,0.8592209531604599,0.8704192864317869,0.8754045909446035,0.8787901335615165,0.8880166672867295,0.8880166672867295,0.890769745898285,0.8899884668328435,0.8887979463521708,0.8889467614122549,0.8912161910785371,0.8914022099036423,0.8892815952974441,0.8933740094497563,0.8899512630678225,0.8949365675806391,0.8921090814390417,0.8894676141225492,0.8932996019197142,0.8930391755645671,0.8904721157781167,0.8918486550838944,0.8912905986085792,0.8922206927341046,0.8912161910785371,0.8883515011719186,0.892815952974441,0.8925555266192938,0.8883142974068976,0.8897652442427174,0.8887607425871498,0.8879050559916664,0.8892443915324231,0.8887607425871498,0.8902488931879906,0.8867889430410357,0.8898768555377804,0.8870865731612039,0.8875702221064772,0.8880910748167714,0.89095576472339,0.8901744856579485)

tps_courbe1 = c(0.619880177753987,0.6692052204666273,0.7317778304415239,0.7835428034554046,0.8393094951269935,0.8925847076934436,0.9401803382309509,0.9840903001698169,1.026910106024808,1.0680262242321323,1.1092238419595393,1.1498626991656822,1.1903069023552866,1.2316474228440637,1.2740687191376254,1.316035523405198,1.3584633255685175,1.400294085757531,1.4422439237669817,1.4846440511665682,1.5258952243797992,1.568353883601595,1.6096364962714116,1.6515207696396927,1.6928072715224454,1.7338529835720615,1.774978728440638,1.8153042948538098,1.8561382867321323,1.8965240490992321,1.9361281432737745,1.9757038995126994,2.0158091659775548,2.0561014703558773,2.094314386961016,2.1337520829149437,2.172147336163615,2.2094566018163024,2.246534808992912,2.282568659664796,2.318733150361784,2.35474384476521,2.3906763707914944,2.4295996256645007,2.4761857712640283,2.536152407966627,2.6127072540977556,2.7319425257678676)
tps_courbe1_2 = c(0.33729014907963384,0.3620579650556157,0.3906002507136529,0.41838479550152574,0.448444211585786,0.47783263264100795,0.5067506600551235,0.5349568643075105,0.5632946113298553,0.5912849753912787,0.61909411374151,0.6474208774485678,0.6754602478098238,0.7037851349542278,0.7325153474259277,0.7608700206221085,0.7901366574958165,0.8190630902647899,0.8483318265577321,0.8768977557830495,0.9054591771335762,0.9339096387439708,0.962295101732454,0.9905970438527414,1.019345847672015,1.046927726597106,1.0747697096663058,1.1028628316271287,1.1305579304557536,1.1581870966630574,1.1845528315286937,1.2117822555369624,1.2390141187616892,1.2654592963874398,1.2900948870951865,1.3147517285165862,1.3378335769760803,1.359529751501132,1.3812931091150704,1.4022545975489713,1.423133964415789,1.4401718224726843,1.4573648770548282,1.4739426644846934,1.4925057270892805,1.5145029180037406,1.5397235880500049,1.6085027488926076)
tps_courbe1_4 = c(0.15818114406851164,0.17667539031387108,0.19747195072561594,0.21919193975700305,0.24162447700809989,0.26406918760546744,0.2861554282399595,0.30754845106311174,0.3285943591376983,0.34930399156260544,0.37028976801383734,0.3907288629345258,0.4108513712453594,0.4309498403223085,0.4511919823658454,0.4712482493671954,0.4913396510715491,0.5111184297586905,0.5303659853189335,0.5503241333952076,0.5693733423050962,0.5884248544549443,0.6075363508268646,0.6264451629682753,0.6450289036871414,0.6633164632973337,0.6810944433850827,0.6986528525143436,0.71634342739622,0.7334076533496456,0.7504462883901452,0.7670200990550118,0.7837756353358083,0.7994593523455957,0.8146065034593317,0.8289954966672292,0.8438437702497469,0.8576858488862639,0.8704310527759028,0.8828801190938238,0.8940544173557206,0.9045271088845764,0.9130918083023962,0.9210539040668242,0.9288452029193385,0.9366510772443469,0.9468228774046574,1.0028542991056362)
tps_courbe1_8 = c(0.10927567740284286,0.1243352374689924,0.1403542519982675,0.1580507660353585,0.17610623998897507,0.19451837405992833,0.2121589037681616,0.23008870669764145,0.24735948887663897,0.26450226262944443,0.2817015494743474,0.298959651927393,0.31600243847698545,0.33306199499940936,0.3500469668071032,0.36692154341063904,0.3841120448478167,0.4033185414812773,0.4175505087608773,0.4343805358113163,0.45092451588770327,0.4672313942985392,0.4839815480174824,0.49998213485844784,0.5167350650470528,0.5323225619955113,0.5481438526203882,0.5648339704295783,0.5816009557428042,0.5983841248966414,0.6154116758672284,0.6324582562113635,0.6502026642123085,0.6685027712721975,0.6868392683387802,0.7063489278261212,0.7263053814230027,0.746706758829783,0.7673809986218845,0.788559555065559,0.8100735148245856,0.8330708445879434,0.855398274323739,0.8831414254045753,0.904677850179155,0.9322120957987163,0.9646898943576013,1.0059555453006261)
tps_courbe1_16 = c(0.0887804617817406,0.10109478520804756,0.11299537204694407,0.12594325373418686,0.14009307144490168,0.15487696181984453,0.17011957628410304,0.18502576630848955,0.20040600983081847,0.21490319924554183,0.22984922866178936,0.24469658222831886,0.25951007857033986,0.2740168974622771,0.2887923432403597,0.30332830410760553,0.3181210649291267,0.33246725975461056,0.3469591705532693,0.36151087162780066,0.3757203601585124,0.38982403383630543,0.4041019841487578,0.4179290809708886,0.431886208581009,0.4455092563252553,0.45909163942234416,0.47269538324950466,0.4858894002438653,0.4990009972946197,0.5119462388355434,0.5258699101508917,0.5374007205837524,0.5497091534445968,0.561107320492303,0.5729763971193416,0.5840317192501143,0.5943797497713763,0.6047394906264288,0.6156300943834782,0.624449722374638,0.6322549088553574,0.6390677644795001,0.6445769136564549,0.6532525953741808,0.6524797767108672,0.6537259471498247,0.6923652889803383)
tps_courbe1_32= c(0.06516885052686841,0.07581310916113548,0.09597282491468857,0.0982035523680954,0.11020739757003037,0.12257828222147223,0.1353035981925226,0.14780369546630667,0.16030561255484307,0.17277095661304234,0.185456765440432,0.1978410556868039,0.21030079656504294,0.2228870113998575,0.23504541133235834,0.2477097121910976,0.25977319286008926,0.272209424157198,0.28437285157685527,0.2965559661754228,0.30891524277196536,0.3205217721903476,0.33288506952413094,0.34517193576330296,0.3576027083286459,0.36991676202797463,0.38257441099486256,0.3948391317358533,0.4075528913263584,0.42046721993475084,0.4341620133123336,0.4487101424982188,0.4629256958788015,0.4779228714891064,0.4933049217009787,0.5103208897138786,0.5275478546518169,0.5456795278059025,0.5652218606142423,0.5861457106536169,0.607351811527356,0.6296509076386545,0.6536759278509019,0.6791482482093973,0.7077282875839052,0.7391648168147898,0.7752741778977763,0.8155462121723478)
tps_courbe1_64 = c(0.06508450719892853,0.07650949711670821,0.08752471427508464,0.09793829283083448,0.10887818746977194,0.12021080218758139,0.1312983116187358,0.14258817500651066,0.15389492421593065,0.1650863060009673,0.17638203921276832,0.18730226455597307,0.19856044462219577,0.20972627746567954,0.22063098009598572,0.2314543660850478,0.24249900558056475,0.25325957565385615,0.26378799036422484,0.2744322871386584,0.28498291666356634,0.2956377749172216,0.3064709539789427,0.3172664573830872,0.3280233844637077,0.3387363853565981,0.3501361657799769,0.36126159436735,0.3727344159008892,0.384568540533502,0.3967515994642658,0.4092868028944529,0.4225532593846497,0.43636841965846945,0.4508106833587559,0.46697589910338927,0.48343256266974216,0.5005233885933257,0.5195452522787306,0.5394745323486737,0.5601723110606793,0.5823196601064028,0.6052556076118903,0.629794686521076,0.6570993580862383,0.6864326523680196,0.7236889395438818,0.7588675770675992)

#--------------------------------------------------------------------------------------------
#parametres graphes
# -- manuels
x_pas_erreur = 4
y_pas_erreur = 3
x_legend_erreur = 0
y_legend_erreur = 50
y_padding_erreur = 1

x_pas_time = 4
y_pas_time = 3
x_legend_time = 0
y_legend_time = 0.013
y_padding_time = 0.01

# -- auto calcul

#MAJ VERS ERROR
oracle = 100-100*oracle
courbe1 = 100-100*courbe1
courbe1_2 = 100-100*courbe1_2
courbe1_4 = 100-100*courbe1_4
courbe1_8 = 100-100*courbe1_8
courbe1_16 = 100-100*courbe1_16
courbe1_32 = 100-100*courbe1_32
courbe1_64 = 100-100*courbe1_64

nb_val = length(oracle)

min_val_erreur = 30000
min_val_erreur = min(min_val_erreur,100-100*oracle)
min_val_erreur = min(min_val_erreur,100-100*courbe1)
min_val_erreur = min(min_val_erreur,100-100*courbe1_2)
min_val_erreur = min(min_val_erreur,100-100*courbe1_4)
min_val_erreur = min(min_val_erreur,100-100*courbe1_8)
min_val_erreur = min(min_val_erreur,100-100*courbe1_16)
min_val_erreur = min(min_val_erreur,100-100*courbe1_32)
min_val_erreur = min(min_val_erreur,100-100*courbe1_64)
min_val_erreur = ceiling(min_val_erreur)

max_val_erreur = 0
max_val_erreur = max(max_val_erreur,100-100*oracle)
max_val_erreur = max(max_val_erreur,100-100*courbe1)
max_val_erreur = max(max_val_erreur,100-100*courbe1_2)
max_val_erreur = max(max_val_erreur,100-100*courbe1_4)
max_val_erreur = max(max_val_erreur,100-100*courbe1_8)
max_val_erreur = max(max_val_erreur,100-100*courbe1_16)
max_val_erreur = max(max_val_erreur,100-100*courbe1_32)
max_val_erreur = max(max_val_erreur,100-100*courbe1_64)
max_val_erreur = floor(max_val_erreur)

size = 0:(nb_val-1)
x_lim_erreur = c(0,(nb_val-1))
if(min_val_erreur-y_padding_erreur <= 0){
  min_val_erreur = min_val_erreur+y_padding_erreur+0.00001
}
y_lim_erreur = c((min_val_erreur-y_padding_erreur),(max_val_erreur+y_padding_erreur))
x_axp_erreur = c(0, (nb_val-1), x_pas_erreur)
y_axp_erreur = c((min_val_erreur-y_padding_erreur),(max_val_erreur+y_padding_erreur),y_pas_erreur)

min_val_time = 30000
min_val_time = min(min_val_erreur,100-100*tps_courbe1)
min_val_time = min(min_val_erreur,100-100*tps_courbe1_2)
min_val_time = min(min_val_erreur,100-100*tps_courbe1_4)
min_val_time = min(min_val_erreur,100-100*tps_courbe1_8)
min_val_time = min(min_val_erreur,100-100*tps_courbe1_16)
min_val_time = min(min_val_erreur,100-100*tps_courbe1_32)
min_val_time = min(min_val_erreur,100-100*tps_courbe1_64)
min_val_time = ceiling(min_val_erreur)

max_val_time = 0
max_val_time = max(max_val_time,tps_courbe1)
max_val_time = max(max_val_time,tps_courbe1_2)
max_val_time = max(max_val_time,tps_courbe1_4)
max_val_time = max(max_val_time,tps_courbe1_8)
max_val_time = max(max_val_time,tps_courbe1_16)
max_val_time = max(max_val_time,tps_courbe1_32)
max_val_time = max(max_val_time,tps_courbe1_64)
max_val_time = floor(max_val_time)

x_lim_time = c(0,(nb_val-1))
if(min_val_time-y_padding_time <= 0){
  min_val_time = min_val_time+y_padding_time+0.00001
}

png(file=paste("Taux_erreur_sur_",dataset_name,"_",algo_name,".png",sep=""), bg="white", width=taille_img_x, height=taille_img_y, pointsize = 12)
(ggplot(NULL, aes(size)) + #scale_y_log10(breaks = round(seq(0, 100, by = 5),1)) + annotation_logticks(sides="l") +
  ylab("Error rate (%)") + xlab("Number of known choices") + theme_bw() #+ theme(legend.position="bottom")
+geom_line(aes(y=courbe1, colour="Complete sample"), colour="chocolate1", linetype="dotted") + geom_point(aes(y=courbe1, shape="Complete sample"), colour="chocolate1", fill="chocolate1") 
+geom_line(aes(y=courbe1_2, colour="1/2 sample"), colour="firebrick3", linetype="dotted") + geom_point(aes(y=courbe1_2, shape="1/2 sample"), colour="firebrick3", fill="firebrick3") 
+geom_line(aes(y=courbe1_4, colour="1/4 sample"), colour="darkorchid3", linetype="dotted") + geom_point(aes(y=courbe1_4, shape="1/4 sample"), colour="darkorchid3", fill="darkorchid3") 
+geom_line(aes(y=courbe1_8, colour="1/8 sample"), colour="turquoise2", linetype="dotted") + geom_point(aes(y=courbe1_8, shape="1/8 sample"), colour="turquoise2", fill="turquoise2") 
+geom_line(aes(y=courbe1_16, colour="1/16 sample"), colour="springgreen4", linetype="dotted") + geom_point(aes(y=courbe1_16, shape="1/16 sample"), colour="springgreen4", fill="springgreen4") 
+geom_line(aes(y=courbe1_32, colour="1/32 sample"), colour="gold2", linetype="dotted") + geom_point(aes(y=courbe1_32, shape="1/32 sample"), colour="gold2", fill="gold2") 
+geom_line(aes(y=courbe1_64, colour="1/64 sample"), colour="deepskyblue4", linetype="dotted") + geom_point(aes(y=courbe1_64, shape="1/64 sample"), colour="deepskyblue4", fill="deepskyblue4") 
+geom_line(aes(y=oracle, colour="Oracle"), colour="black", linetype="dotted") + geom_point(aes(y=oracle, shape="Oracle"), colour="black", fill="black") 
+ scale_colour_manual(name = 'Legend', guide = 'legend',
                      limits = c(NULL
                                ,'Complete sample' #courbe1
                                ,'1/2 sample' #1_2
                                ,'1/4 sample' #1_4
                                ,'1/8 sample' #1_8
                                ,'1/16 sample' #1_16
                                ,'1/32 sample' #1_32
                                ,'1/64 sample' #1_64
                                ,'Oracle' #oracleVrai
                      ),
                      values =c(NULL
                                ,'Complete sample'='chocolate1' #courbe1
                                ,'1/2 sample'='firebrick3' #1_2
                                ,'1/4 sample'='darkorchid1' #1_4
                                ,'1/8 sample'='turquoise2' #1_8
                                ,'1/16 sample'='springgreen' #1_16
                                ,'1/32 sample'='gold2' #1_32
                                ,'1/64 sample'='deepskyblue4' #1_64
                                ,'Oracle'='black' #oracleVrai
                      ))
                      
+ scale_shape_manual(name = 'Legend', guide = 'legend',
                      limits = c(NULL
                                ,'Complete sample' #courbe1
                                ,'1/2 sample' #1_2
                                ,'1/4 sample' #1_4
                                ,'1/8 sample' #1_8
                                ,'1/16 sample' #1_16
                                ,'1/32 sample' #1_32
                                ,'1/64 sample' #1_64
                                ,'Oracle' #oracleVrai
                      ),
                      values =c(NULL
                                ,'Complete sample'=0 #courbe1
                                ,'1/2 sample'=21 #1_2
                                ,'1/4 sample'=22 #1_4
                                ,'1/8 sample'=23 #1_8
                                ,'1/16 sample'=24 #1_16
                                ,'1/32 sample'=25 #1_32
                                ,'1/64 sample'=1 #1_64
                                ,'Oracle'=4 #oracleVrai
                      ))
                      
                          + guides(shape = guide_legend(override.aes = list(colour = c(NULL
                                ,'Complete sample'='chocolate1' #courbe1
                                ,'1/2 sample'='firebrick3' #1_2
                                ,'1/4 sample'='darkorchid1' #1_4
                                ,'1/8 sample'='turquoise2' #1_8
                                ,'1/16 sample'='springgreen' #1_16
                                ,'1/32 sample'='gold2' #1_32
                                ,'1/64 sample'='deepskyblue4' #1_64
                                ,'Oracle'='black' #oracleVrai
                                  ),
                                  fill = c(NULL
                                ,'Complete sample'='chocolate1' #courbe1
                                ,'1/2 sample'='firebrick3' #1_2
                                ,'1/4 sample'='darkorchid1' #1_4
                                ,'1/8 sample'='turquoise2' #1_8
                                ,'1/16 sample'='springgreen' #1_16
                                ,'1/32 sample'='gold2' #1_32
                                ,'1/64 sample'='deepskyblue4' #1_64
                                ,'Oracle'='black' #oracleVrai
                                  ))))
                      )

dev.off()

png(file=paste("Temps_sur_",dataset_name,"_",algo_name,".png",sep=""), bg="white", width=taille_img_x, height=taille_img_y, pointsize = 12)
(ggplot(NULL, aes(size))
+ scale_y_log10(
  breaks = scales::trans_breaks("log10", function(x) 10^x),
  labels = scales::trans_format("log10", function(x) round(10^x,2)))
+ annotation_logticks(sides="l")
+ theme_bw() +
  ylab("Time (ms)") + xlab("Number of known choices") #+ theme(legend.position="bottom")
+geom_line(aes(y=tps_courbe1, colour="Complete sample"), colour="chocolate1", linetype="dotted") + geom_point(aes(y=tps_courbe1, shape="Complete sample"), colour="chocolate1", fill="chocolate1") 
+geom_line(aes(y=tps_courbe1_2, colour="1/2 sample"), colour="firebrick3", linetype="dotted") + geom_point(aes(y=tps_courbe1_2, shape="1/2 sample"), colour="firebrick3", fill="firebrick3") 
+geom_line(aes(y=tps_courbe1_4, colour="1/4 sample"), colour="darkorchid3", linetype="dotted") + geom_point(aes(y=tps_courbe1_4, shape="1/4 sample"), colour="darkorchid3", fill="darkorchid3") 
+geom_line(aes(y=tps_courbe1_8, colour="1/8 sample"), colour="turquoise2", linetype="dotted") + geom_point(aes(y=tps_courbe1_8, shape="1/8 sample"), colour="turquoise2", fill="turquoise2") 
+geom_line(aes(y=tps_courbe1_16, colour="1/16 sample"), colour="springgreen4", linetype="dotted") + geom_point(aes(y=tps_courbe1_16, shape="1/16 sample"), colour="springgreen4", fill="springgreen4") 
+geom_line(aes(y=tps_courbe1_32, colour="1/32 sample"), colour="gold2", linetype="dotted") + geom_point(aes(y=tps_courbe1_32, shape="1/32 sample"), colour="gold2", fill="gold2") 
+geom_line(aes(y=tps_courbe1_64, colour="1/64 sample"), colour="deepskyblue4", linetype="dotted") + geom_point(aes(y=tps_courbe1_64, shape="1/64 sample"), colour="deepskyblue4", fill="deepskyblue4") 
+ scale_colour_manual(name = 'Legend', guide = 'legend',
                      limits = c(NULL
                                ,'Complete sample' #courbe1
                                ,'1/2 sample' #1_2
                                ,'1/4 sample' #1_4
                                ,'1/8 sample' #1_8
                                ,'1/16 sample' #1_16
                                ,'1/32 sample' #1_32
                                ,'1/64 sample' #1_64
                      ),
                      values =c(NULL
                                ,'Complete sample'='chocolate1' #courbe1
                                ,'1/2 sample'='firebrick3' #1_2
                                ,'1/4 sample'='darkorchid1' #1_4
                                ,'1/8 sample'='turquoise2' #1_8
                                ,'1/16 sample'='springgreen' #1_16
                                ,'1/32 sample'='gold2' #1_32
                                ,'1/64 sample'='deepskyblue4' #1_64
                      ))
                      
+ scale_shape_manual(name = 'Legend', guide = 'legend',
                      limits = c(NULL
                                ,'Complete sample' #courbe1
                                ,'1/2 sample' #1_2
                                ,'1/4 sample' #1_4
                                ,'1/8 sample' #1_8
                                ,'1/16 sample' #1_16
                                ,'1/32 sample' #1_32
                                ,'1/64 sample' #1_64
                      ),
                      values =c(NULL
                                ,'Complete sample'=0 #courbe1
                                ,'1/2 sample'=21 #1_2
                                ,'1/4 sample'=22 #1_4
                                ,'1/8 sample'=23 #1_8
                                ,'1/16 sample'=24 #1_16
                                ,'1/32 sample'=25 #1_32
                                ,'1/64 sample'=1 #1_64
                      ))
                      
                          + guides(shape = guide_legend(override.aes = list(colour = c(NULL
                                ,'Complete sample'='chocolate1' #courbe1
                                ,'1/2 sample'='firebrick3' #1_2
                                ,'1/4 sample'='darkorchid1' #1_4
                                ,'1/8 sample'='turquoise2' #1_8
                                ,'1/16 sample'='springgreen' #1_16
                                ,'1/32 sample'='gold2' #1_32
                                ,'1/64 sample'='deepskyblue4' #1_64
                                  ),
                                  fill = c(NULL
                                ,'Complete sample'='chocolate1' #courbe1
                                ,'1/2 sample'='firebrick3' #1_2
                                ,'1/4 sample'='darkorchid1' #1_4
                                ,'1/8 sample'='turquoise2' #1_8
                                ,'1/16 sample'='springgreen' #1_16
                                ,'1/32 sample'='gold2' #1_32
                                ,'1/64 sample'='deepskyblue4' #1_64
                                  ))))
                      )

dev.off()
