library(ggplot2)

#--------------------------------------------------------------------------------------------
#Parametres globaux
dataset_name = "renault_small_header"
algo_name = "v-naif"
taille_img_x = 1024/2
taille_img_y = 720/2
#fin parametres globaux
#--------------------------------------------------------------------------------------------

#--------------------------------------------------------------------------------------------
#data

oracle = c(0.68502658003544,0.7502584170112226,0.7979548139397519,0.8242395156526875,0.8485307147076196,0.8646264028352038,0.8746308328411104,0.8875886001181335,0.8910956881275842,0.8964855286473715,0.9063053750738335,0.91313496751329,0.912322799763733,0.9178972238629651,0.9199276432368576,0.9201122268163024,0.926055818074424,0.9288245717660957,0.9296736562315416,0.9353957471943296,0.9353588304784406,0.9369462492616657,0.940711754282339,0.9426683402244537,0.9481320141760189,0.9475782634376846,0.9487595983461311,0.9501624335499114,0.9549985233313645,0.9559583579444773,0.9571766095688128,0.9594654459539279,0.9613851151801536,0.9631571175428234,0.9637847017129356,0.9664796219728293,0.966738038984052,0.9675871234494979,0.9679562906083875,0.9702820437093916,0.9718694624926166,0.9729031305375074,0.9752658003544005,0.9743428824571766,0.9768532191376255,0.978920555227407,0.9788098050797401,0.9800649734199646)
courbe1 = c(0.6740992321323095,0.7423582398109864,0.7871751329001772,0.8200679267572357,0.8422917897223863,0.8615623154164206,0.871788245717661,0.8802052569403426,0.8884746012994684,0.8947873597164796,0.8981836975782634,0.9059362079149439,0.9070806261075015,0.9101447135262847,0.9121382161842883,0.9143901358535145,0.918007974010632,0.9190785587714116,0.9221426461901949,0.9272002362669817,0.925317483756645,0.9302274069698759,0.9307442409923213,0.9324424099232133,0.9342144122858831,0.9352849970466627,0.9372784997046663,0.9390135853514472,0.9407855877141169,0.9408225044300059,0.9418561724748966,0.9451048434731246,0.9440342587123449,0.9461754282339043,0.9462123449497932,0.9476890135853514,0.9478366804489072,0.9492395156526875,0.9522666863555818,0.9531157708210277,0.9514914353219137,0.9530788541051388,0.9547401063201417,0.9528573538098051,0.9564382752510336,0.9560691080921441,0.9566966922622564,0.9572504430005907)
courbe1_2 = c(0.6761492272861502,0.7387538143518063,0.7892509105226893,0.8215375529087509,0.841470617186731,0.8581553302490402,0.8706073432424452,0.8746431735407029,0.8861108376808741,0.8935426715227877,0.899645634412836,0.9057485973028842,0.9087508613052466,0.90884929619057,0.913131213702136,0.9138202578993996,0.9172654788857171,0.9192341765921843,0.923122354562457,0.9245496603996456,0.9238113987597204,0.9264199232207895,0.9276011418446698,0.9311940151589724,0.9346392361452899,0.933999409390688,0.9341470617186731,0.9369032385077272,0.9362141943104636,0.9391180234275027,0.941824982773895,0.9450241165469042,0.944138202578994,0.9476326410079732,0.9434491583817305,0.9435968107097156,0.9469435968107097,0.9477310758932966,0.9502411654690422,0.9490107294025002,0.9506349050103357,0.9487154247465301,0.9521606457328478,0.9530957771434196,0.9523575155034945,0.9526036027168029,0.9541785608819766,0.9574761295403091)
courbe1_4 = c(0.689503881201485,0.7415204184947688,0.7853526830914613,0.8193131960850489,0.8398582517718528,0.8555096186297672,0.8704438069524131,0.8797249409382383,0.8882888963887952,0.8921700978737765,0.8985403307458657,0.902969962875464,0.9065136685791427,0.9095511306108673,0.9109011137360783,0.9135167060411745,0.91790415119811,0.9194228822139723,0.9200556868039149,0.9258774890313871,0.9258774890313871,0.9267212284846439,0.9311086736415795,0.9312774215322308,0.9332180222747216,0.9327117786027674,0.93363989200135,0.9350320620992237,0.9370570367870401,0.9364242321970976,0.940811677354033,0.9422882213972326,0.939757003037462,0.9446928788390145,0.9435960175497806,0.9431741478231522,0.9473506581167735,0.9449038137023287,0.9473084711441107,0.9493756328045899,0.9474350320620992,0.9487428282146473,0.9501349983125211,0.9501771852851839,0.9517802902463719,0.9486584542693216,0.9515271684103949,0.9507256159298009)
courbe1_8 = c(0.6623223215340395,0.7383155490806,0.7882427058313974,0.8148993975666418,0.8400598495885341,0.8586840965468362,0.8691577745403001,0.8804189471197386,0.884828916801197,0.8906170020081112,0.8977438280111825,0.9038469110524865,0.9049494034728511,0.9049494034728511,0.9076268850651652,0.908532503839036,0.9122337283931173,0.9150293341733275,0.920029924794267,0.9214080403197228,0.9210142930267354,0.9241642713706343,0.9248730164980116,0.9254636374374926,0.927196125526637,0.928849864157184,0.9306611017049258,0.9306611017049258,0.9347560735519943,0.9318817183131866,0.9365279363704374,0.9355829428672678,0.9373941804150097,0.9384572981060755,0.9381423002716857,0.9377485529786983,0.9404260345710124,0.9421978973894555,0.9414497775327795,0.9425916446824428,0.9419222742843643,0.94330038980982,0.9426310194117415,0.9443635075008859,0.944954128440367,0.9456234988384454,0.947631610032681,0.9500728432492027)
courbe1_16 = c(0.6934918457552203,0.748818777625362,0.7873037646700198,0.8222450845907636,0.8414494741655235,0.8571483005639384,0.8686556927297668,0.8762002743484225,0.8868312757201646,0.8902225270538028,0.8977671086724585,0.9002819692120103,0.9032921810699589,0.9050068587105624,0.905578417924097,0.9073311995122695,0.9108748666361836,0.9141518061271148,0.9144566377076665,0.9173144337753392,0.9171239140374943,0.918686175887822,0.9205532693187014,0.9213153482700808,0.9252400548696845,0.9265736930345984,0.9238683127572016,0.9277168114616674,0.9275643956713916,0.9288599298887364,0.930650815424478,0.9325560128029264,0.9322511812223746,0.932975156226185,0.9333942996494436,0.9356805365035817,0.9364807194025301,0.9361377838744094,0.9376238378295991,0.9388050602042372,0.9375857338820301,0.9404054260021338,0.9382335009907027,0.9394909312604786,0.9388050602042372,0.9384240207285475,0.9421963115378753,0.9415485444292029)
courbe1_32= c(0.6626167172910339,0.7402407469906627,0.7894401319983501,0.8230022124723441,0.8382645216934789,0.855026812164848,0.8702516218547268,0.8789890126373421,0.8819139760752991,0.8895638804514944,0.8914388570142873,0.8990512618592268,0.8997262534218322,0.9018637267034162,0.8991637604529943,0.9052386845164435,0.9097386282671467,0.9078636517043537,0.908838639517006,0.9116511043611955,0.9106386170172873,0.9117261034237072,0.9135635804552443,0.91577605279934,0.9164510443619455,0.9178385270184123,0.9185135185810177,0.9235384557693029,0.922975962800465,0.9229009637379533,0.9201634979562755,0.9245134435819552,0.9262384220197247,0.9268759140510744,0.9271759103011212,0.9273634079574006,0.9297633779577755,0.9287508906138673,0.9286758915513557,0.9311133610829865,0.9299508756140549,0.9306633667079162,0.9329133385832677,0.93126335920801,0.9329508381145236,0.9320133498331271,0.9339258259271759,0.9331383357708029)
courbe1_64 = c(0.684102831206518,0.7456378585512854,0.787454890434912,0.8223892257896499,0.8403958480598237,0.8539008147624539,0.861378771531679,0.8720934558577328,0.8767067227203393,0.8805759142825254,0.8883142974068976,0.8898396517727594,0.894713344990513,0.8932251943896722,0.8954202165259124,0.8950481788757022,0.8972804047769635,0.9005915398638342,0.8975036273670896,0.9012612076342126,0.9000706871535399,0.9060604933219242,0.9060976970869452,0.9044607314260203,0.9079950891030172,0.9090739982886268,0.9077718665128911,0.9102273150042784,0.9106365564195097,0.9123851333754976,0.913240819970981,0.9113806317199301,0.9116410580750772,0.916961196473083,0.9153242308121582,0.9147661743368429,0.9184121433089029,0.9175192529483984,0.9155474534022843,0.9172588265932512,0.9199747014397857,0.9179284943636296,0.9193050336694073,0.9197142750846385,0.9201607202648908,0.9216116671007106,0.9256296737229808,0.9238810967669928)

tps_courbe1 = c(0.5654878922031896,0.6056752266317188,0.6490572558697578,0.6829557048139397,0.720100048471648,0.7555922484494979,0.7874808443591258,0.8166435704370939,0.8435650142498523,0.8696579058254578,0.8955631147002363,0.919717621492912,0.9444845379134672,0.9698594909184879,0.9959814455478441,1.0217668153425872,1.048007879023922,1.0745154691007088,1.1007386338230951,1.1269935481024809,1.15379970492469,1.1801322384819846,1.2061039145747194,1.2331453213600119,1.2602134606836977,1.287519607722977,1.3146178301092735,1.3419053928307738,1.3691115496898996,1.3972928465002954,1.4253422753987006,1.4536974013216184,1.4830541429415238,1.513018030936208,1.542581987263733,1.57262709757088,1.6032094773331365,1.6335512685321913,1.6641784893310692,1.6960786059878914,1.729621013511518,1.7641430136961016,1.8012120921441228,1.8432790326343769,1.8957278415534553,1.962086357981394,2.0506174140209685,2.171628945658594)
tps_courbe1_2 = c(0.2808345968107097,0.29758099734225807,0.31704678708534306,0.33442775711192047,0.3532500079732257,0.370835178117925,0.3870502393444237,0.4021283457525347,0.4162423794172655,0.4298894084555567,0.4434793162220691,0.4565573188305936,0.4694581544443351,0.48324835318436854,0.49676337420021655,0.5103439703218821,0.5241382868884733,0.5375478930997145,0.55163354503396,0.5654370049217443,0.5792095291367261,0.5934332144403976,0.6075547427404272,0.6214753595334186,0.6358101459789349,0.6505759147553893,0.6645668381730485,0.6794049004823309,0.6939867956983955,0.7088638219312925,0.7237276692095679,0.7390633556452407,0.7546170138793188,0.7708107481543459,0.7856708355153066,0.8011656859927159,0.8171161134462054,0.8318375679200709,0.8487471610394723,0.862890306870755,0.8787619320799291,0.8950724622994389,0.9090410078255734,0.9243211386947534,0.9386530792893001,0.9540084933556452,0.9689496534599862,0.9824523421596614)
tps_courbe1_4 = c(0.14020191887445158,0.14972412672966587,0.15942606226797165,0.1679318855045562,0.17679127008099899,0.1855811538558893,0.19360647738778267,0.20107591592136348,0.20834054142760716,0.21534644266790415,0.22225082247721903,0.2291073824249072,0.23607385563617955,0.24308920979581505,0.2500952691106986,0.2572607157019912,0.2643458011727978,0.27155050194060076,0.2788196390904489,0.28598636120485993,0.29316557306783664,0.3004907500843739,0.30765035158623016,0.315032580239622,0.3223247627826527,0.32985928725109687,0.33726176075767805,0.3448125234981438,0.3525440669507256,0.3603283135757678,0.3679454168916639,0.3760536131454607,0.38429870532399596,0.39293422764090447,0.40119065626054673,0.4094468032821465,0.4176392181910226,0.4256576514090449,0.434033649721566,0.4422317976712791,0.45066338107492404,0.4591145637023287,0.46770829594161323,0.47727771072392844,0.48842418866014176,0.5018879866689167,0.5192489529193385,0.5416315371245359)
tps_courbe1_8 = c(0.053427466433043275,0.05914978969957081,0.06573626625191951,0.07158441024530457,0.07751327137063432,0.08296379395204158,0.08781597424892704,0.09214573382682995,0.09980806626766942,0.10020560920581172,0.10336754754498563,0.10736239886600779,0.11000088124581643,0.11318999417254007,0.11645849253848879,0.11964559908650628,0.1226851897468205,0.12614936307437885,0.1287565516793322,0.13172934342638895,0.13484589002638106,0.13821695479781076,0.1413224382407371,0.14361235543568138,0.14704072827499312,0.14967049112099853,0.15251833897704453,0.1558966583848486,0.15828758475410482,0.1617539174705674,0.16458012855849116,0.16717171256447613,0.17074204886403907,0.1730846216876009,0.17617041717525692,0.1794411560420522,0.18320350250029532,0.1861040549671221,0.18977266338543922,0.19362236968933338,0.1978946602748356,0.20253752809386935,0.20601357404417844,0.2101507887152026,0.2144836340512659,0.2192086172382565,0.22442740744969877,0.23069396121589164)
tps_courbe1_16 = c(0.027668472527053803,0.030839467306812987,0.03409634754610578,0.03686075144795001,0.039505485025148605,0.0425466692577351,0.044606441243712845,0.04697971140070111,0.04919372831885383,0.05140883219021491,0.053290926878524617,0.05532265999847584,0.05764440824569425,0.059294685375704925,0.061156412627648225,0.06334056626276482,0.06835046463953666,0.0669268957094955,0.06863169631153787,0.07050477853985673,0.07243571418228928,0.07387521124828532,0.07577270324645634,0.07746362772443226,0.07895364384240207,0.08064965489254687,0.08239594722603262,0.08429639144185337,0.08577033790580704,0.08746858184727938,0.08905382799878067,0.09083524085505258,0.09265197557536961,0.0941135980414571,0.09609775826855663,0.09818651836610273,0.09986923308184728,0.10207412181832037,0.10422095000762079,0.10609272976680384,0.10831113397347965,0.11058466925773511,0.11314783135192806,0.11558538968907178,0.11822212387593355,0.12070644017680232,0.12317133737235178,0.12626293122237464)
tps_courbe1_32= c(0.01450656883038962,0.016510121010987363,0.01832823977200285,0.01997868856639292,0.021490435782052723,0.02297153774327821,0.02433169636629542,0.025659473694078824,0.026930285521430983,0.02812328844639442,0.02930040761990475,0.03047501192485094,0.03163215521055987,0.03281560625492182,0.033959109086136426,0.035130623579705256,0.03620082101473732,0.03733213004837439,0.03843811287358908,0.03948656031799602,0.04055332388345146,0.041623350695616304,0.042682884876439044,0.04374221997225035,0.047047448831889604,0.04576266647916901,0.04668892447594405,0.047713445531930854,0.0486742635842052,0.04969947661904226,0.05067177766527919,0.05163551078111524,0.05264931930850864,0.05363549229384633,0.05475039730753366,0.05578529365882926,0.057008708366145425,0.058072982600217496,0.05930193805077436,0.06050771466606667,0.06180679960250497,0.06306442858214273,0.06438441144485695,0.06583400749990626,0.06713862226722166,0.0684876154798065,0.06990497472531593,0.07163782476469044)
tps_courbe1_64 = c(0.008787639383905652,0.009405948993638157,0.010700844785892333,0.011809421927899104,0.012769791398489527,0.013640146024777708,0.014477809963168272,0.015249943152647048,0.016047272926820195,0.01880185765839503,0.017530373414189514,0.018265443878120464,0.01899279177052718,0.019766577067599243,0.020509081959894343,0.021287140109379068,0.02196660664459243,0.02269824986048588,0.02348999125711522,0.024230745042598312,0.024996333643364708,0.02573714375534804,0.02649990568845567,0.02727625778488783,0.02791270895494624,0.028715905167602963,0.029461960564009078,0.030156622195766213,0.03087441582648164,0.031574271066631944,0.03225282380296886,0.03289744611034637,0.03353552167119313,0.034156924625172065,0.03489688868633506,0.03549352334536255,0.036153432382157076,0.036812903270210945,0.03754456237211206,0.038223242531344175,0.03881494691022731,0.03946130622418989,0.04008697205997247,0.04079771955801927,0.04137845407195208,0.04200955857732803,0.04255842732244503,0.04327484437665092)

#--------------------------------------------------------------------------------------------
#parametres graphes
# -- manuels
x_pas_erreur = 4
y_pas_erreur = 3
x_legend_erreur = 0
y_legend_erreur = 50
y_padding_erreur = 1

x_pas_time = 4
y_pas_time = 3
x_legend_time = 0
y_legend_time = 0.013
y_padding_time = 0.01

# -- auto calcul

#MAJ VERS ERROR
oracle = 100-100*oracle
courbe1 = 100-100*courbe1
courbe1_2 = 100-100*courbe1_2
courbe1_4 = 100-100*courbe1_4
courbe1_8 = 100-100*courbe1_8
courbe1_16 = 100-100*courbe1_16
courbe1_32 = 100-100*courbe1_32
courbe1_64 = 100-100*courbe1_64

nb_val = length(oracle)

min_val_erreur = 30000
min_val_erreur = min(min_val_erreur,100-100*oracle)
min_val_erreur = min(min_val_erreur,100-100*courbe1)
min_val_erreur = min(min_val_erreur,100-100*courbe1_2)
min_val_erreur = min(min_val_erreur,100-100*courbe1_4)
min_val_erreur = min(min_val_erreur,100-100*courbe1_8)
min_val_erreur = min(min_val_erreur,100-100*courbe1_16)
min_val_erreur = min(min_val_erreur,100-100*courbe1_32)
min_val_erreur = min(min_val_erreur,100-100*courbe1_64)
min_val_erreur = ceiling(min_val_erreur)

max_val_erreur = 0
max_val_erreur = max(max_val_erreur,100-100*oracle)
max_val_erreur = max(max_val_erreur,100-100*courbe1)
max_val_erreur = max(max_val_erreur,100-100*courbe1_2)
max_val_erreur = max(max_val_erreur,100-100*courbe1_4)
max_val_erreur = max(max_val_erreur,100-100*courbe1_8)
max_val_erreur = max(max_val_erreur,100-100*courbe1_16)
max_val_erreur = max(max_val_erreur,100-100*courbe1_32)
max_val_erreur = max(max_val_erreur,100-100*courbe1_64)
max_val_erreur = floor(max_val_erreur)

size = 0:(nb_val-1)
x_lim_erreur = c(0,(nb_val-1))
if(min_val_erreur-y_padding_erreur <= 0){
  min_val_erreur = min_val_erreur+y_padding_erreur+0.00001
}
y_lim_erreur = c((min_val_erreur-y_padding_erreur),(max_val_erreur+y_padding_erreur))
x_axp_erreur = c(0, (nb_val-1), x_pas_erreur)
y_axp_erreur = c((min_val_erreur-y_padding_erreur),(max_val_erreur+y_padding_erreur),y_pas_erreur)

min_val_time = 30000
min_val_time = min(min_val_erreur,100-100*tps_courbe1)
min_val_time = min(min_val_erreur,100-100*tps_courbe1_2)
min_val_time = min(min_val_erreur,100-100*tps_courbe1_4)
min_val_time = min(min_val_erreur,100-100*tps_courbe1_8)
min_val_time = min(min_val_erreur,100-100*tps_courbe1_16)
min_val_time = min(min_val_erreur,100-100*tps_courbe1_32)
min_val_time = min(min_val_erreur,100-100*tps_courbe1_64)
min_val_time = ceiling(min_val_erreur)

max_val_time = 0
max_val_time = max(max_val_time,tps_courbe1)
max_val_time = max(max_val_time,tps_courbe1_2)
max_val_time = max(max_val_time,tps_courbe1_4)
max_val_time = max(max_val_time,tps_courbe1_8)
max_val_time = max(max_val_time,tps_courbe1_16)
max_val_time = max(max_val_time,tps_courbe1_32)
max_val_time = max(max_val_time,tps_courbe1_64)
max_val_time = floor(max_val_time)

x_lim_time = c(0,(nb_val-1))
if(min_val_time-y_padding_time <= 0){
  min_val_time = min_val_time+y_padding_time+0.00001
}

png(file=paste("Taux_erreur_sur_",dataset_name,"_",algo_name,".png",sep=""), bg="white", width=taille_img_x, height=taille_img_y, pointsize = 12)
(ggplot(NULL, aes(size)) + #scale_y_log10(breaks = round(seq(0, 100, by = 5),1)) + annotation_logticks(sides="l") +
  ylab("Error rate (%)") + xlab("Number of known choices") + theme_bw() #+ theme(legend.position="bottom")
+geom_line(aes(y=courbe1, colour="Complete sample"), colour="chocolate1", linetype="dotted") + geom_point(aes(y=courbe1, shape="Complete sample"), colour="chocolate1", fill="chocolate1") 
+geom_line(aes(y=courbe1_2, colour="1/2 sample"), colour="firebrick3", linetype="dotted") + geom_point(aes(y=courbe1_2, shape="1/2 sample"), colour="firebrick3", fill="firebrick3") 
+geom_line(aes(y=courbe1_4, colour="1/4 sample"), colour="darkorchid3", linetype="dotted") + geom_point(aes(y=courbe1_4, shape="1/4 sample"), colour="darkorchid3", fill="darkorchid3") 
+geom_line(aes(y=courbe1_8, colour="1/8 sample"), colour="turquoise2", linetype="dotted") + geom_point(aes(y=courbe1_8, shape="1/8 sample"), colour="turquoise2", fill="turquoise2") 
+geom_line(aes(y=courbe1_16, colour="1/16 sample"), colour="springgreen4", linetype="dotted") + geom_point(aes(y=courbe1_16, shape="1/16 sample"), colour="springgreen4", fill="springgreen4") 
+geom_line(aes(y=courbe1_32, colour="1/32 sample"), colour="gold2", linetype="dotted") + geom_point(aes(y=courbe1_32, shape="1/32 sample"), colour="gold2", fill="gold2") 
+geom_line(aes(y=courbe1_64, colour="1/64 sample"), colour="deepskyblue4", linetype="dotted") + geom_point(aes(y=courbe1_64, shape="1/64 sample"), colour="deepskyblue4", fill="deepskyblue4") 
+geom_line(aes(y=oracle, colour="Oracle"), colour="black", linetype="dotted") + geom_point(aes(y=oracle, shape="Oracle"), colour="black", fill="black") 
+ scale_colour_manual(name = 'Legend', guide = 'legend',
                      limits = c(NULL
                                ,'Complete sample' #courbe1
                                ,'1/2 sample' #1_2
                                ,'1/4 sample' #1_4
                                ,'1/8 sample' #1_8
                                ,'1/16 sample' #1_16
                                ,'1/32 sample' #1_32
                                ,'1/64 sample' #1_64
                                ,'Oracle' #oracleVrai
                      ),
                      values =c(NULL
                                ,'Complete sample'='chocolate1' #courbe1
                                ,'1/2 sample'='firebrick3' #1_2
                                ,'1/4 sample'='darkorchid1' #1_4
                                ,'1/8 sample'='turquoise2' #1_8
                                ,'1/16 sample'='springgreen' #1_16
                                ,'1/32 sample'='gold2' #1_32
                                ,'1/64 sample'='deepskyblue4' #1_64
                                ,'Oracle'='black' #oracleVrai
                      ))
                      
+ scale_shape_manual(name = 'Legend', guide = 'legend',
                      limits = c(NULL
                                ,'Complete sample' #courbe1
                                ,'1/2 sample' #1_2
                                ,'1/4 sample' #1_4
                                ,'1/8 sample' #1_8
                                ,'1/16 sample' #1_16
                                ,'1/32 sample' #1_32
                                ,'1/64 sample' #1_64
                                ,'Oracle' #oracleVrai
                      ),
                      values =c(NULL
                                ,'Complete sample'=0 #courbe1
                                ,'1/2 sample'=21 #1_2
                                ,'1/4 sample'=22 #1_4
                                ,'1/8 sample'=23 #1_8
                                ,'1/16 sample'=24 #1_16
                                ,'1/32 sample'=25 #1_32
                                ,'1/64 sample'=1 #1_64
                                ,'Oracle'=4 #oracleVrai
                      ))
                      
                          + guides(shape = guide_legend(override.aes = list(colour = c(NULL
                                ,'Complete sample'='chocolate1' #courbe1
                                ,'1/2 sample'='firebrick3' #1_2
                                ,'1/4 sample'='darkorchid1' #1_4
                                ,'1/8 sample'='turquoise2' #1_8
                                ,'1/16 sample'='springgreen' #1_16
                                ,'1/32 sample'='gold2' #1_32
                                ,'1/64 sample'='deepskyblue4' #1_64
                                ,'Oracle'='black' #oracleVrai
                                  ),
                                  fill = c(NULL
                                ,'Complete sample'='chocolate1' #courbe1
                                ,'1/2 sample'='firebrick3' #1_2
                                ,'1/4 sample'='darkorchid1' #1_4
                                ,'1/8 sample'='turquoise2' #1_8
                                ,'1/16 sample'='springgreen' #1_16
                                ,'1/32 sample'='gold2' #1_32
                                ,'1/64 sample'='deepskyblue4' #1_64
                                ,'Oracle'='black' #oracleVrai
                                  ))))
                      )

dev.off()

png(file=paste("Temps_sur_",dataset_name,"_",algo_name,".png",sep=""), bg="white", width=taille_img_x, height=taille_img_y, pointsize = 12)
(ggplot(NULL, aes(size))
+ scale_y_log10(
  breaks = scales::trans_breaks("log10", function(x) 10^x),
  labels = scales::trans_format("log10", function(x) round(10^x,2)))
+ annotation_logticks(sides="l")
+ theme_bw() +
  ylab("Time (ms)") + xlab("Number of known choices") #+ theme(legend.position="bottom")
+geom_line(aes(y=tps_courbe1, colour="Complete sample"), colour="chocolate1", linetype="dotted") + geom_point(aes(y=tps_courbe1, shape="Complete sample"), colour="chocolate1", fill="chocolate1") 
+geom_line(aes(y=tps_courbe1_2, colour="1/2 sample"), colour="firebrick3", linetype="dotted") + geom_point(aes(y=tps_courbe1_2, shape="1/2 sample"), colour="firebrick3", fill="firebrick3") 
+geom_line(aes(y=tps_courbe1_4, colour="1/4 sample"), colour="darkorchid3", linetype="dotted") + geom_point(aes(y=tps_courbe1_4, shape="1/4 sample"), colour="darkorchid3", fill="darkorchid3") 
+geom_line(aes(y=tps_courbe1_8, colour="1/8 sample"), colour="turquoise2", linetype="dotted") + geom_point(aes(y=tps_courbe1_8, shape="1/8 sample"), colour="turquoise2", fill="turquoise2") 
+geom_line(aes(y=tps_courbe1_16, colour="1/16 sample"), colour="springgreen4", linetype="dotted") + geom_point(aes(y=tps_courbe1_16, shape="1/16 sample"), colour="springgreen4", fill="springgreen4") 
+geom_line(aes(y=tps_courbe1_32, colour="1/32 sample"), colour="gold2", linetype="dotted") + geom_point(aes(y=tps_courbe1_32, shape="1/32 sample"), colour="gold2", fill="gold2") 
+geom_line(aes(y=tps_courbe1_64, colour="1/64 sample"), colour="deepskyblue4", linetype="dotted") + geom_point(aes(y=tps_courbe1_64, shape="1/64 sample"), colour="deepskyblue4", fill="deepskyblue4") 
+ scale_colour_manual(name = 'Legend', guide = 'legend',
                      limits = c(NULL
                                ,'Complete sample' #courbe1
                                ,'1/2 sample' #1_2
                                ,'1/4 sample' #1_4
                                ,'1/8 sample' #1_8
                                ,'1/16 sample' #1_16
                                ,'1/32 sample' #1_32
                                ,'1/64 sample' #1_64
                      ),
                      values =c(NULL
                                ,'Complete sample'='chocolate1' #courbe1
                                ,'1/2 sample'='firebrick3' #1_2
                                ,'1/4 sample'='darkorchid1' #1_4
                                ,'1/8 sample'='turquoise2' #1_8
                                ,'1/16 sample'='springgreen' #1_16
                                ,'1/32 sample'='gold2' #1_32
                                ,'1/64 sample'='deepskyblue4' #1_64
                      ))
                      
+ scale_shape_manual(name = 'Legend', guide = 'legend',
                      limits = c(NULL
                                ,'Complete sample' #courbe1
                                ,'1/2 sample' #1_2
                                ,'1/4 sample' #1_4
                                ,'1/8 sample' #1_8
                                ,'1/16 sample' #1_16
                                ,'1/32 sample' #1_32
                                ,'1/64 sample' #1_64
                      ),
                      values =c(NULL
                                ,'Complete sample'=0 #courbe1
                                ,'1/2 sample'=21 #1_2
                                ,'1/4 sample'=22 #1_4
                                ,'1/8 sample'=23 #1_8
                                ,'1/16 sample'=24 #1_16
                                ,'1/32 sample'=25 #1_32
                                ,'1/64 sample'=1 #1_64
                      ))
                      
                          + guides(shape = guide_legend(override.aes = list(colour = c(NULL
                                ,'Complete sample'='chocolate1' #courbe1
                                ,'1/2 sample'='firebrick3' #1_2
                                ,'1/4 sample'='darkorchid1' #1_4
                                ,'1/8 sample'='turquoise2' #1_8
                                ,'1/16 sample'='springgreen' #1_16
                                ,'1/32 sample'='gold2' #1_32
                                ,'1/64 sample'='deepskyblue4' #1_64
                                  ),
                                  fill = c(NULL
                                ,'Complete sample'='chocolate1' #courbe1
                                ,'1/2 sample'='firebrick3' #1_2
                                ,'1/4 sample'='darkorchid1' #1_4
                                ,'1/8 sample'='turquoise2' #1_8
                                ,'1/16 sample'='springgreen' #1_16
                                ,'1/32 sample'='gold2' #1_32
                                ,'1/64 sample'='deepskyblue4' #1_64
                                  ))))
                      )

dev.off()
